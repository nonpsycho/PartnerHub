# Спецификация требований к программному обеспечению (SRS) для "PartnerHub"

*Версия 1.0*

## Содержание

- [1. Введение](#1-введение)
  - [1.1 Назначение](#11-назначение)
  - [1.2 Бизнес-требования](#12-бизнес-требования)
  - [1.3 Аналоги](#13-аналоги)
- [2. Требования пользователя](#2-требования-пользователя)
  - [2.1 Программные интерфейсы](#21-программные-интерфейсы)
  - [2.2 Интерфейс пользователя](#22-интерфейс-пользователя)
  - [2.3 Характеристики пользователей](#23-характеристики-пользователей)
  - [2.4 Предположения и зависимости](#24-предположения-и-зависимости)
- [3. Системные требования](#3-системные-требования)
  - [3.1 Функциональные требования](#31-функциональные-требования)
  - [3.2 Нефункциональные требования](#32-нефункциональные-требования)
- [4. Мокапы интерфейса (UI Mockups)](#4-мокапы-интерфейса-ui-mockups)
- [5. Технологический стек](#5-технологический-стек)
- [6. Безопасность и производительность](#6-безопасность-и-производительность)
- [7. Тестирование](#7-тестирование)
- [8. Развертывание (Deployment)](#8-развертывание-deployment)

---

## 1. Введение

### 1.1 Назначение
Данный документ описывает функциональные и нефункциональные требования к веб-приложению **PartnerHub** — единому пространству для координации бытовых задач и совместного планирования для пар и семей. Приложение предоставляет синхронизированные инструменты для управления списками покупок, задачами и общими заметками в реальном времени.

### 1.2 Бизнес-требования

#### 1.2.1 Исходные данные
Пары и семьи часто сталкиваются с неэффективностью в организации быта, что приводит к:
- Дублированию покупок ("я купил молоко, и ты купил молоко").
- Неясности в распределении домашних обязанностей ("кто сегодня выносит мусор?").
- Потере важных бытовых идей и напоминаний (фильмы к просмотру, список покупок).
- Несинхронизированности информации, которая хранится в разных чатах и заметках у каждого члена семьи.

#### 1.2.2 Бизнес-возможности
Приложение "FamiPlan" позволит:
- **Повысить эффективность** совместного ведения хозяйства за счёт централизации информации.
- **Устранить дублирование** усилий и ресурсов.
- **Снизить когнитивную нагрузку** и стресс, связанный с необходимостью "держать всё в голове".
- **Улучшить взаимопонимание** в семье за счёт прозрачности и чёткого распределения задач.

#### 1.2.3 Функционал проекта
Приложение "PartnerHub" будет реализовано как **Progressive Web App (PWA)** и будет включать в себя:
- Создание и управление общими списками (покупки, задачи, идеи).
- Синхронизацию данных между пользователями в реальном времени.
- Простую систему уведомлений о добавлении/завершении элементов списка.

В рамках первой версии **НЕ** планируется реализовывать:
- Сложную систему статистики и аналитики.
- Внутренний мессенджер (чат).
- Интеграцию с внешними календарями или API карт.
- Систему совместного бюджета и учёта расходов.

### 1.3 Аналоги

| Название аналога | Ключевые особенности                                                                 | Недостатки (с точки зрения целей "FamiPlan")                                                                                               |
| :---------------- | :----------------------------------------------------------------------------------- | :----------------------------------------------------------------------------------------------------------------------------------------- |
| **Bring!**        | Специализированное приложение для совместных списков покупок. Красочный интерфейс.   | Сфокусировано только на покупках. Нет функционала для общих задач и заметок. Требует регистрации.                                          |
| **Todoist**       | Мощный кроссплатформенный таск-менеджер с поддержкой общих проектов.                 | Общая структура перегружена для простых бытовых нужд. Нет специализированных типов списков (например, для покупок). Премиум-функции платные. |
| **Google Keep**   | Простые общие заметки и списки. Интеграция с экосистемой Google.                     | Нет структурирования по типам списков. Нет разделения прав. Слабая система уведомлений и отслеживания изменений.                            |
| **Any.do**        | Планировщик задач с совместными списками и календарём.                              | Ориентирован на личную продуктивность, а не на семейный быт. Многие функции скрыты за платной подпиской.                                    |

**Отличие "PartnerHub":** Простое и сфокусированное решение, объединяющее в одном месте три ключевых аспекта семейного быта (покупки, задачи, идеи) без перегруженности функциями, с акцентом на мгновенную синхронизацию и минималистичный UX.

## 2. Требования пользователя

### 2.1 Программные интерфейсы
*   **REST API:** Для обеспечения работы клиентского веб-приложения и потенциального развития мобильных клиентов в будущем.
*   **Поддержка JSON:** Основной формат обмена данными между клиентом и сервером.
*   **WebSocket или Long-Polling:** Для реализации синхронизации изменений между клиентами в реальном времени.
*   **Документация API:** Доступ к документации по API будет предоставлен через **Swagger UI** после аутентификации.

### 2.2 Интерфейс пользователя
Интерфейс будет реализован как **адаптивный веб-интерфейс**, обеспечивающий удобство использования как на настольных компьютерах, так и на мобильных устройствах. Основные принципы:
*   **Минимализм и простота:** Интерфейс будет интуитивно понятным даже для неопытных пользователей.
*   **Визуальное различие типов списков:** Списки покупок, задач и заметок будут иметь различное визуальное оформление для быстрой навигации.
*   **Мгновенная синхронизация:** Изменения, внесенные одним пользователем, будут моментально отображаться у всех участников общего пространства.

### 2.3 Характеристики пользователей

#### 2.3.1 Аудитория приложения
*   **Основная целевая аудитория:** Пары, семьи, соседи по квартире, люди ведущие совместный быт.
*   **Техническая подготовка:** Предполагается, что пользователи имеют базовый опыт использования веб-браузеров и мобильных приложений (уровень: умеют пользоваться мессенджерами и социальными сетями). Специальных технических знаний не требуется.

### 2.4 Предположения и зависимости
*   Для работы клиентской части приложения пользователям требуется **современный браузер** с поддержкой JavaScript (Chrome, Firefox, Safari, Edge последних версий).
*   Для полноценной работы приложения **требуется постоянное подключение к Интернету**.
*   Данные пользователей (списки, учетные записи) будут храниться в **реляционной базе данных** (PostgreSQL).
*   Реализация push-уведомлений на данном этапе зависит от возможностей браузера и не требует отдельного мобильного приложения.

## 3. Системные требования

### 3.1 Функциональные требования

#### 3.1.1 Управление рабочими пространствами (Spaces)
*   **FR1: Создание пространства**
    *   Система должна позволять аутентифицированному пользователю создать новое рабочее пространство.
    *   При создании необходимо указать уникальное название пространства.
*   **FR2: Приглашение участников**
    *   Создатель пространства (администратор) должен иметь возможность пригласить других пользователей в пространство, отправив им ссылку-приглашение или по email.

#### 3.1.2 Управление списками
*   **FR3: Создание списка**
    *   Система должна позволять пользователю создать новый список within a space.
    *   При создании необходимо указать тип списка (Покупки, Задачи, Заметки) и название.
*   **FR4: Редактирование и удаление списка**
    *   Пользователь (с соответствующими правами) должен иметь возможность изменить название списка или удалить его.
*   **FR5: Просмотр списков**
    *   Система должна отображать все списки, принадлежащие текущему пространству, с возможностью фильтрации по типу.

#### 3.1.3 Управление элементами списка
*   **FR6: Добавление элемента**
    *   Пользователь должен иметь возможность добавить новый элемент в любой список текущего пространства.
    *   Для типа "Покупки": элемент содержит название товара (обязательно), количество.
    *   Для типа "Задачи": элемент содержит название задачи (обязательно), описание, статус ("к выполнению", "в процессе", "выполнено"), назначенного участника, срок выполнения.
    *   Для типа "Заметки": элемент содержит заголовок (обязательно) и текст заметки.
*   **FR7: Отметка о выполнении/покупке**
    *   Для элементов списков "Покупки" и "Задачи" пользователь должен иметь возможность отметить элемент как выполненный/купленный.
*   **FR8: Редактирование и удаление элемента**
    *   Пользователь должен иметь возможность отредактировать или удалить любой элемент, который он создал, или элемент в списке, где он имеет на это права.
*   **FR9: Синхронизация в реальном времени**
    *   Любое изменение в любом списке (добавление, изменение, удаление элемента) должно мгновенно отображаться в интерфейсе всех пользователей, находящихся в данный момент в этом же рабочем пространстве.

#### 3.1.4 Управление пользователями и правами
*   **FR10: Регистрация и аутентификация**
    *   Система должна предоставлять функционал для регистрации нового пользователя (email, пароль) и последующей аутентификации.
*   **FR11: Управление участниками пространства**
    *   Администратор пространства должен иметь возможность удалять участников из пространства.

### 3.2 Нефункциональные требования

#### 3.2.1 Атрибуты качества
*   **Usability (Удобство использования):** Интерфейс должен быть интуитивно понятен для неподготовленного пользователя.
*   **Reliability (Надежность):** Система должна обеспечивать сохранность данных и целостность списков. 
*   **Performance (Производительность):** Задержка между действием одного пользователя и отображением этого действия у другого пользователя (в рамках одного пространства) не должна превышать **500 мс**.
*   **Security (Безопасность):** Доступ к рабочему пространству должны иметь только приглашенные и аутентифицированные пользователи. Пароли должны храниться в базе данных в хешированном виде.

#### 3.2.2 Ограничения
*   Приложение должно корректно работать в последних версиях браузеров Chrome, Firefox, Safari и Edge.
*   Клиентская часть должна быть реализована с использованием адаптивного дизайна для поддержки устройств с шириной экрана от 320px (мобильные телефоны) до 1920px (десктоп).

## 5. Технологический стек

Выбор технологий обусловлен необходимостью создания современного, отзывчивого и производительного веб-приложения с возможностью реального времени.

| Компонент               | Технология / Инструмент                                                                                             | Обоснование выбора                                                                                                                              |
| :---------------------- | :------------------------------------------------------------------------------------------------------------------ | :---------------------------------------------------------------------------------------------------------------------------------------------- |
| **Фронтенд (Клиент)**   | [React 18](https://react.dev/)                              | Современные, производительные фреймворки с богатой экосистемой. Позволяют создать сложный интерактивный интерфейс.|
|                         | [MUI](https://mui.com/)                              | Библиотеки готовых UI-компонентов. Значительно ускоряют разработку и обеспечивают единый, эстетичный и адаптивный дизайн.                         |
|                         | [WebSocket](https://developer.mozilla.org/ru/docs/Web/API/WebSockets_API)     | Технология для обеспечения двусторонней связи в реальном времени для мгновенной синхронизации списков между всеми участниками пространства.        |
| **Бэкенд (Сервер)**     | [Node.js](https://nodejs.org/) (с [Express.js](https://expressjs.com/)) | Легковесные и производительные среды выполнения. |
|                         | [WebSocket](https://www.npmjs.com/package/ws)                              | Серверная часть для обработки соединений в реальном времени.                                                                                    |
| **База данных**         | [PostgreSQL](https://www.postgresql.org/)                                                            | Надежная реляционная СУБД. Подходит для сложных связанных данных (пространства, пользователи, списки, элементы).                                |
|                         |
| **Аутентификация**      | [JWT](https://jwt.io/) (JSON Web Tokens)                                                                            | Стандартный, stateless-механизм для аутентификации пользователей и защиты API-эндпоинтов.                                                        |
| **Хостинг/Развертывание** | [GitHub Pages](https://pages.github.com/)    | Для хостинга статического фронтенда.                                                                                                                           |                 
|                         | [Heroku](https://www.heroku.com/), [Railway](https://railway.app/), [Render](https://render.com/) или VPS           | Для развертывания бэкенд-сервера и базы данных.                                          |
| **Прочее**              | [Git](https://git-scm.com/)                                                                                         | Система контроля версий.                                                                                                                        |
|                         | [Swagger](https://swagger.io/)         | Для описания и документирования REST API.|


## 6. Безопасность и производительность

### 6.1 Безопасность

*   **Аутентификация и авторизация:**
    *   Доступ к функционалу приложения предоставляется только аутентифицированным пользователям.
    *   Для аутентификации используется механизм **JWT (JSON Web Tokens)**. Токен хранится на клиенте и передается в заголовке каждого запроса к защищенным эндпоинтам API.
    *   Пароли пользователей хранятся в базе данных в **хешированном виде** с использованием современных алгоритмов (например, bcrypt) с добавлением "соли" (salt).

*   **Защита данных:**
    *   Все данные, передаваемые между клиентом и сервером, должны шифроваться с использованием протокола **HTTPS**.
    *   Осуществляется **валидация и санитизация** всех входящих данных на стороне сервера для предотвращения атак, таких как SQL-инъекции и XSS (Межсайтовый скриптинг).

*   **Контроль доступа:**
    *   Реализуется проверка прав доступа пользователя к запрашиваемому ресурсу. Пользователь может взаимодействовать только с теми пространствами и списками, участником которых он является.
    *   Критически важные операции (например, удаление пространства или исключение участника) могут выполняться только администратором пространства.

*   **Обработка ошибок:**
    *   Сообщения об ошибках не должны раскрывать внутреннюю структуру приложения или чувствительную информацию (например, детали исключений баз данных). Пользователю предоставляются только общие, понятные сообщения.

### 6.2 Производительность и надежность

*   **Оптимизация клиентской части:**
    *   Код фронтенда должен быть минифицирован и сжат для быстрой загрузки в браузере.
    *   Используется **ленивая загрузка (lazy loading)** компонентов и данных, где это возможно, для уменьшения времени первоначальной загрузки приложения.

*   **Оптимизация серверной части:**
    *   Для снижения нагрузки на базу данных и уменьшения времени отклика активно используется **кэширование** часто запрашиваемых данных (например, списков текущего пространства) с помощью таких решений, как **Redis** или in-memory кэш.
    *   Запросы к базе данных должны быть оптимизированы (использование индексов, избегание N+1 проблемы).

*   **Соединение в реальном времени:**
    *   Для обеспечения стабильного соединения и мгновенной синхронизации используется **WebSocket**, который обеспечивает более низкие задержки по сравнению с периодическими HTTP-запросами (polling).
    *   Реализуется механизм повторного подключения при обрыве связи.

*   **Надежность:**
    *   Приложение должно корректно обрабатывать потерю сетевого соединения. Локальные изменения, сделанные оффлайн, должны быть синхронизированы с сервером при восстановлении подключения (опциональная цель для будущих версий).
 

## 7. Тестирование

Для обеспечения качества и соответствия требованиям, предъявляемым к приложению, планируется проведение многоуровневого тестирования.

*   **Модульное (Юнит) тестирование:**
    *   Написание юнит-тестов для критически важных функций бэкенда (сервисы, утилиты) с использованием фреймворков (например, Jest для Node.js или pytest для Python).
    *   Цель: проверить корректность работы отдельных изолированных модулей кода.

*   **Интеграционное тестирование:**
    *   Тестирование взаимодействия между компонентами системы, например, обработчиков API-запросов (controllers), служб (services) и слоя работы с данными (ORM/репозитории).
    *   Тестирование корректности работы WebSocket-соединений и механизма реального времени.

*   **Тестирование API:**
    *   Проверка всех REST API эндпоинтов на корректность обработки валидных и невалидных данных, возвращаемых кодов состояния HTTP и структуры ответов.
    *   Для автоматизации может использоваться Postman или аналоги.

*   **Пользовательское (E2E) тестирование:**
    *   Автоматизированное тестирование ключевых пользовательских сценариев (создание пространства, добавление участника, совместное редактирование списка).
    *   Планируется использование фреймворков типа Cypress или Playwright для симуляции действий пользователя в браузере.

## 8. Развертывание (Deployment)

Процесс развертывания приложения будет максимально автоматизирован и организован с использованием современных практик.

*   **Непрерывная интеграция и доставка (CI/CD):**
    *   Настроены автоматические пайплайны с помощью GitHub Actions.
    *   При пуше кода в ветку `main`/`master` автоматически запускается набор тестов (linting, unit-тесты).
    *   После успешного прохождения тестов может быть настроено автоматическое развертывание на staging-сервер.

*   **Контейнеризация:**
    *   Фронтенд и бэкенд компоненты приложения будут упакованы в Docker-контейнеры.
    *   Конфигурация для запуска всей системы (frontend, backend, database) будет описана в файле `docker-compose.yml`, что упростит развертывание на любой инфраструктуре.

*   **Хостинг:**
    *   **Фронтенд:** Будет размещен на специализированных платформах для статических сайтов и SPA, таких как **Vercel**, **Netlify** или **GitHub Pages**, что обеспечит быструю доставку контента пользователям.
    *   **Бэкенд и База данных:** Будет развернут на облачных платформах с поддержкой Docker, таких как **Railway**, **Render** или **Heroku**, что избавит от необходимости управления серверной инфраструктурой.

*   **Переменные окружения:**
    *   Все конфиденциальные данные (ключи API, строки подключения к БД, JWT-секреты) будут храниться в переменных окружения на стороне хотинговой платформы и не будут попадать в version control (git).

---

**Примечание:** Данный документ является живым. Требования могут уточняться и изменяться в процессе разработки. Все существенные изменения будут фиксироваться и согласовываться.
